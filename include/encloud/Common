#ifndef _LIBENCLOUD_COMMON_H_
#define _LIBENCLOUD_COMMON_H_

#include <QList>
#include <QPair>
#include <QString>

#define _LIBENCLOUD_MACRO_STR(x) #x
#define LIBENCLOUD_MACRO_STR(x) _LIBENCLOUD_MACRO_STR(x)

#ifndef LIBENCLOUD_DLLSPEC
#  if defined(Q_OS_WIN32)
#    if defined(_LIBENCLOUD_LIB_)
#       define LIBENCLOUD_DLLSPEC __declspec(dllexport)
#    else
#       define LIBENCLOUD_DLLSPEC __declspec(dllimport)
#    endif
#  else
#    define LIBENCLOUD_DLLSPEC
#  endif
#endif

namespace libencloud {

class Config;

typedef enum
{
    CoreModule,
    SetupModule,
    CloudModule
} 
Module;

typedef QPair<QString, QString> Param;
typedef QList<Param> Params;
LIBENCLOUD_DLLSPEC QString paramsFind (const Params &params, const QString &key);

// win32: COMMON_APPDATA/ORG/PRODUCT/PACKAGE
// unix: COMMON_APPDATA/ORG/PRODUCT/PACKAGE
LIBENCLOUD_DLLSPEC QString getCommonAppDataDir (QString package = "");

} // namespace libencloud

// global exported configuration object - used for logging
LIBENCLOUD_DLLSPEC extern libencloud::Config *g_libencloudCfg;

#endif /* _LIBENCLOUD_COMMON_H_ */
